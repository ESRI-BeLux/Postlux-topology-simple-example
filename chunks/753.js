"use strict";(self.webpackChunkarcgis_typescript_template=self.webpackChunkarcgis_typescript_template||[]).push([[753],{94669:(t,n,i)=>{i.d(n,{C:()=>u,Cr:()=>l,H6:()=>m,_I:()=>d,dz:()=>v,fA:()=>h,kb:()=>g,ld:()=>b,sd:()=>f,vt:()=>c});var e=i(4506),r=i(82444),s=i(80347),o=i(19913),a=i(11631);function c(t){return t?{origin:(0,o.o8)(t.origin),vector:(0,o.o8)(t.vector)}:{origin:(0,o.vt)(),vector:(0,o.vt)()}}function u(t,n=c()){return h(t.origin,t.vector,n)}function h(t,n,i=c()){return(0,s.c)(i.origin,t),(0,s.c)(i.vector,n),i}function l(t,n,i=c()){return(0,s.c)(i.origin,t),(0,s.f)(i.vector,n,t),i}function g(t,n){const i=(0,s.f)(a.rq.get(),n,t.origin),r=(0,s.k)(t.vector,i),o=(0,s.k)(t.vector,t.vector),c=(0,e.qE)(r/o,0,1),u=(0,s.f)(a.rq.get(),(0,s.h)(a.rq.get(),t.vector,c),i);return(0,s.k)(u,u)}function d(t,n,i){return m(t,n,0,1,i)}function f(t,n,i){return(0,s.g)(i,t.origin,(0,s.h)(i,t.vector,n))}function m(t,n,i,r,o){const{vector:c,origin:u}=t,h=(0,s.f)(a.rq.get(),n,u),l=(0,s.k)(c,h)/(0,s.p)(c);return(0,s.h)(o,c,(0,e.qE)(l,i,r)),(0,s.g)(o,o,t.origin)}function v(t,n){if(_(t,function(t,n){const i=I.get();return i.origin=t,i.vector=n,i}(n.origin,n.direction),!1,p)){const{tA:n,pB:i,distance2:e}=p;if(n>=0&&n<=1)return e;if(n<0)return(0,s.a)(t.origin,i);if(n>1)return(0,s.a)((0,s.g)(a.rq.get(),t.origin,t.vector),i)}return null}function b(t,n,i){return!!_(t,n,!0,p)&&((0,s.c)(i,p.pA),!0)}function _(t,n,i,r){const o=1e-6,c=t.origin,u=(0,s.g)(a.rq.get(),c,t.vector),h=n.origin,l=(0,s.g)(a.rq.get(),h,n.vector),g=a.rq.get(),d=a.rq.get();if(g[0]=c[0]-h[0],g[1]=c[1]-h[1],g[2]=c[2]-h[2],d[0]=l[0]-h[0],d[1]=l[1]-h[1],d[2]=l[2]-h[2],Math.abs(d[0])<o&&Math.abs(d[1])<o&&Math.abs(d[2])<o)return!1;const f=a.rq.get();if(f[0]=u[0]-c[0],f[1]=u[1]-c[1],f[2]=u[2]-c[2],Math.abs(f[0])<o&&Math.abs(f[1])<o&&Math.abs(f[2])<o)return!1;const m=g[0]*d[0]+g[1]*d[1]+g[2]*d[2],v=d[0]*f[0]+d[1]*f[1]+d[2]*f[2],b=g[0]*f[0]+g[1]*f[1]+g[2]*f[2],_=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],p=(f[0]*f[0]+f[1]*f[1]+f[2]*f[2])*_-v*v;if(Math.abs(p)<o)return!1;let I=(m*v-b*_)/p,A=(m+v*I)/_;i&&(I=(0,e.qE)(I,0,1),A=(0,e.qE)(A,0,1));const O=a.rq.get(),M=a.rq.get();return O[0]=c[0]+I*f[0],O[1]=c[1]+I*f[1],O[2]=c[2]+I*f[2],M[0]=h[0]+A*d[0],M[1]=h[1]+A*d[1],M[2]=h[2]+A*d[2],r.tA=I,r.tB=A,r.pA=O,r.pB=M,r.distance2=(0,s.a)(O,M),!0}const p={tA:0,tB:0,pA:(0,o.vt)(),pB:(0,o.vt)(),distance2:0},I=new r.I((()=>c()))},45660:(t,n,i)=>{i.d(n,{Fm:()=>a,Q7:()=>c});var e=i(82444),r=i(80347),s=i(19913),o=i(94669);function a(t,n,i){const e=n[0]-t[0],r=n[1]-t[1],s=i[0]-t[0],o=i[1]-t[1];return.5*Math.abs(e*o-r*s)}function c(t,n,i){return(0,r.f)(u,n,t),(0,r.f)(h,i,t),.5*(0,r.l)((0,r.b)(u,u,h))}i(11631),new e.I(o.vt),new e.I((()=>{return t?{p0:(0,s.o8)(t.p0),p1:(0,s.o8)(t.p1),p2:(0,s.o8)(t.p2)}:{p0:(0,s.vt)(),p1:(0,s.vt)(),p2:(0,s.vt)()};var t}));const u=(0,s.vt)(),h=(0,s.vt)()},73411:(t,n,i)=>{i.d(n,{J:()=>r});var e=i(78851);class r{constructor(){this.id=(0,e.c)()}}},61723:(t,n,i)=>{var e;i.d(n,{X:()=>e}),function(t){t[t.Layer=0]="Layer",t[t.Object=1]="Object",t[t.Mesh=2]="Mesh",t[t.Line=3]="Line",t[t.Point=4]="Point",t[t.Material=5]="Material",t[t.Texture=6]="Texture",t[t.COUNT=7]="COUNT"}(e||(e={}))},40753:(t,n,i)=>{i.d(n,{V:()=>P});var e=i(26110),r=i(80347),s=i(51831),o=i(62088);function a(t){if(t.length<o.y9)return Array.from(t);if((0,o.cy)(t))return Float64Array.from(t);if(!("BYTES_PER_ELEMENT"in t))return Array.from(t);switch(t.BYTES_PER_ELEMENT){case 1:return Uint8Array.from(t);case 2:return(0,o.jq)(t)?Uint16Array.from(t):Int16Array.from(t);case 4:return Float32Array.from(t);default:return Float64Array.from(t)}}var c=i(10875),u=i(41785),h=i(19913),l=i(26421);class g{constructor(t,n,i){this.primitiveIndices=t,this._numIndexPerPrimitive=n,this.position=i,this._children=void 0,(0,l.vA)(t.length>=1),(0,l.vA)(3===i.size||4===i.size);const{data:e,size:s,indices:o}=i;(0,l.vA)(o.length%this._numIndexPerPrimitive==0),(0,l.vA)(o.length>=t.length*this._numIndexPerPrimitive);const a=t.length;let c=s*o[this._numIndexPerPrimitive*t[0]];d.clear(),d.push(c);const u=(0,h.fA)(e[c],e[c+1],e[c+2]),g=(0,h.o8)(u);for(let n=0;n<a;++n){const i=this._numIndexPerPrimitive*t[n];for(let t=0;t<this._numIndexPerPrimitive;++t){c=s*o[i+t],d.push(c);let n=e[c];u[0]=Math.min(n,u[0]),g[0]=Math.max(n,g[0]),n=e[c+1],u[1]=Math.min(n,u[1]),g[1]=Math.max(n,g[1]),n=e[c+2],u[2]=Math.min(n,u[2]),g[2]=Math.max(n,g[2])}}this.bbMin=u,this.bbMax=g;const f=(0,r.m)((0,h.vt)(),this.bbMin,this.bbMax,.5);this.radius=.5*Math.max(Math.max(g[0]-u[0],g[1]-u[1]),g[2]-u[2]);let m=this.radius*this.radius;for(let t=0;t<d.length;++t){c=d.at(t);const n=e[c]-f[0],i=e[c+1]-f[1],r=e[c+2]-f[2],s=n*n+i*i+r*r;if(s<=m)continue;const o=Math.sqrt(s),a=.5*(o-this.radius);this.radius=this.radius+a,m=this.radius*this.radius;const u=a/o;f[0]+=n*u,f[1]+=i*u,f[2]+=r*u}this.center=f,d.clear()}getChildren(){if(this._children||(0,r.a)(this.bbMin,this.bbMax)<=1)return this._children;const t=(0,r.m)((0,h.vt)(),this.bbMin,this.bbMax,.5),n=this.primitiveIndices.length,i=new Uint8Array(n),e=new Array(8);for(let t=0;t<8;++t)e[t]=0;const{data:s,size:o,indices:a}=this.position;for(let r=0;r<n;++r){let n=0;const c=this._numIndexPerPrimitive*this.primitiveIndices[r];let u=o*a[c],h=s[u],l=s[u+1],g=s[u+2];for(let t=1;t<this._numIndexPerPrimitive;++t){u=o*a[c+t];const n=s[u],i=s[u+1],e=s[u+2];n<h&&(h=n),i<l&&(l=i),e<g&&(g=e)}h<t[0]&&(n|=1),l<t[1]&&(n|=2),g<t[2]&&(n|=4),i[r]=n,++e[n]}let c=0;for(let t=0;t<8;++t)e[t]>0&&++c;if(c<2)return;const u=new Array(8);for(let t=0;t<8;++t)u[t]=e[t]>0?new Uint32Array(e[t]):void 0;for(let t=0;t<8;++t)e[t]=0;for(let t=0;t<n;++t){const n=i[t];u[n][e[n]++]=this.primitiveIndices[t]}this._children=new Array;for(let t=0;t<8;++t)void 0!==u[t]&&this._children.push(new g(u[t],this._numIndexPerPrimitive,this.position));return this._children}static prune(){d.prune()}}const d=new u.A({deallocator:null});var f=i(73411),m=i(61723),v=i(45660);const b=(0,h.vt)(),_=(0,h.vt)(),p=(0,h.vt)(),I=(0,h.vt)();var A=i(32685),O=i(33763),M=i(93550);class P extends f.J{constructor(t,n,i=null,e=m.X.Mesh,r=null,o=-1){super(),this.material=t,this.mapPositions=i,this.type=e,this.objectAndLayerIdColor=r,this.edgeIndicesLength=o,this.visible=!0,this._attributes=new Map,this._boundingInfo=null;for(const[t,i]of n)this._attributes.set(t,{...i,indices:(0,s.Dg)(i.indices)}),t===O.r.POSITION&&(this.edgeIndicesLength=this.edgeIndicesLength<0?this._attributes.get(t).indices.length:this.edgeIndicesLength)}instantiate(t={}){const n=new P(t.material||this.material,[],this.mapPositions,this.type,this.objectAndLayerIdColor,this.edgeIndicesLength);return this._attributes.forEach(((t,i)=>{t.exclusive=!1,n._attributes.set(i,t)})),n._boundingInfo=this._boundingInfo,n.transformation=t.transformation||this.transformation,n}get attributes(){return this._attributes}getMutableAttribute(t){let n=this._attributes.get(t);return n&&!n.exclusive&&(n={...n,exclusive:!0,data:a(n.data)},this._attributes.set(t,n)),n}setAttributeData(t,n){const i=this._attributes.get(t);i&&this._attributes.set(t,{...i,exclusive:!0,data:n})}get indexCount(){const t=this._attributes.values().next().value.indices;return t?.length??0}get faceCount(){return this.indexCount/3}get boundingInfo(){return null==this._boundingInfo&&(this._boundingInfo=this._calculateBoundingInfo()),this._boundingInfo}computeAttachmentOrigin(t){return!!(this.type===m.X.Mesh?this._computeAttachmentOriginTriangles(t):this.type===m.X.Line?this._computeAttachmentOriginLines(t):this._computeAttachmentOriginPoints(t))&&(null!=this._transformation&&(0,r.e)(t,t,this._transformation),!0)}_computeAttachmentOriginTriangles(t){return function(t,n){if(!t)return!1;const{size:i,data:e,indices:s}=t;(0,r.s)(n,0,0,0),(0,r.s)(I,0,0,0);let o=0,a=0;for(let t=0;t<s.length-2;t+=3){const c=s[t]*i,u=s[t+1]*i,h=s[t+2]*i;(0,r.s)(b,e[c],e[c+1],e[c+2]),(0,r.s)(_,e[u],e[u+1],e[u+2]),(0,r.s)(p,e[h],e[h+1],e[h+2]);const l=(0,v.Q7)(b,_,p);l?((0,r.g)(b,b,_),(0,r.g)(b,b,p),(0,r.h)(b,b,1/3*l),(0,r.g)(n,n,b),o+=l):((0,r.g)(I,I,b),(0,r.g)(I,I,_),(0,r.g)(I,I,p),a+=3)}return!(0===a&&0===o||(0!==o?((0,r.h)(n,n,1/o),0):0===a||((0,r.h)(n,I,1/a),0)))}(this.attributes.get(O.r.POSITION),t)}_computeAttachmentOriginLines(t){const n=this.attributes.get(O.r.POSITION);return function(t,n,i){if(!t)return!1;(0,r.s)(i,0,0,0),(0,r.s)(I,0,0,0);let e=0,s=0;const{size:o,data:a,indices:c}=t,u=c.length-1,h=u+(n?2:0);for(let t=0;t<h;t+=2){const n=t<u?t+1:0,h=c[t<u?t:u]*o,l=c[n]*o;b[0]=a[h],b[1]=a[h+1],b[2]=a[h+2],_[0]=a[l],_[1]=a[l+1],_[2]=a[l+2],(0,r.h)(b,(0,r.g)(b,b,_),.5);const g=(0,r.o)(b,_);g>0?((0,r.g)(i,i,(0,r.h)(b,b,g)),e+=g):0===e&&((0,r.g)(I,I,b),s++)}return 0!==e?((0,r.h)(i,i,1/e),!0):0!==s&&((0,r.h)(i,I,1/s),!0)}(n,function(t,n){return!(!("isClosed"in t)||!t.isClosed)&&n.indices.length>2}(this.material.parameters,n),t)}_computeAttachmentOriginPoints(t){return function(t,n){if(!t)return!1;const{size:i,data:e,indices:s}=t;(0,r.s)(n,0,0,0);let o=-1,a=0;for(let t=0;t<s.length;t++){const r=s[t]*i;o!==r&&(n[0]+=e[r],n[1]+=e[r+1],n[2]+=e[r+2],a++),o=r}return a>1&&(0,r.h)(n,n,1/a),a>0}(this.attributes.get(O.r.POSITION),t)}invalidateBoundingInfo(){this._boundingInfo=null}_calculateBoundingInfo(){const t=this.attributes.get(O.r.POSITION);if(!t||0===t.indices.length)return null;const n=this.type===m.X.Mesh?3:1;(0,l.vA)(t.indices.length%n==0,"Indexing error: "+t.indices.length+" not divisible by "+n);const i=(0,s.tM)(t.indices.length/n);return new g(i,n,t)}get transformation(){return this._transformation??e.zK}set transformation(t){this._transformation=t&&t!==e.zK?(0,e.o8)(t):null}addHighlight(){const t=new A.X(c.Mg.Highlight);return this.highlights=(0,M.Ci)(this.highlights,t),t}removeHighlight(t){this.highlights=(0,M.PC)(this.highlights,t)}}},32685:(t,n,i)=>{i.d(n,{X:()=>r});var e=i(78851);class r{constructor(t){this.channel=t,this.id=(0,e.c)()}}},10875:(t,n,i)=>{var e,r,s,o,a,c,u,h,l;i.d(n,{Am:()=>o,ID:()=>h,JS:()=>l,Mg:()=>c,dd:()=>a,it:()=>r,s2:()=>e,sf:()=>u}),function(t){t[t.None=0]="None",t[t.Front=1]="Front",t[t.Back=2]="Back",t[t.COUNT=3]="COUNT"}(e||(e={})),function(t){t[t.Less=0]="Less",t[t.Lequal=1]="Lequal",t[t.COUNT=2]="COUNT"}(r||(r={})),function(t){t[t.BACKGROUND=0]="BACKGROUND",t[t.UPDATE=1]="UPDATE"}(s||(s={})),function(t){t[t.NOT_LOADED=0]="NOT_LOADED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"}(o||(o={})),function(t){t[t.IntegratedMeshMaskExcluded=1]="IntegratedMeshMaskExcluded",t[t.OutlineVisualElementMask=2]="OutlineVisualElementMask"}(a||(a={})),function(t){t[t.Highlight=0]="Highlight",t[t.MaskOccludee=1]="MaskOccludee",t[t.COUNT=2]="COUNT"}(c||(c={})),function(t){t[t.Blend=0]="Blend",t[t.Opaque=1]="Opaque",t[t.Mask=2]="Mask",t[t.MaskBlend=3]="MaskBlend",t[t.COUNT=4]="COUNT"}(u||(u={})),function(t){t[t.OFF=0]="OFF",t[t.ON=1]="ON"}(h||(h={})),function(t){t.DDS_ENCODING="image/vnd-ms.dds",t.KTX2_ENCODING="image/ktx2",t.BASIS_ENCODING="image/x.basis"}(l||(l={}))},93550:(t,n,i)=>{i.d(n,{Ci:()=>s,PC:()=>o,Vk:()=>a});var e=i(19913),r=i(3016);function s(t,n){return null==t&&(t=[]),t.push(n),t}function o(t,n){if(null==t)return null;const i=t.filter((t=>t!==n));return 0===i.length?null:i}function a(t,n,i,e,s){c[0]=t.get(n,0),c[1]=t.get(n,1),c[2]=t.get(n,2),(0,r.jS)(c,u,3),i.set(s,0,u[0]),e.set(s,0,u[1]),i.set(s,1,u[2]),e.set(s,1,u[3]),i.set(s,2,u[4]),e.set(s,2,u[5])}const c=(0,e.vt)(),u=new Float32Array(6)},3016:(t,n,i)=>{function e(t,n,i){for(let e=0;e<i;++e)n[2*e]=t[e],n[2*e+1]=t[e]-n[2*e]}function r(t,n){const i=t.length;for(let e=0;e<i;++e)o[0]=t[e],n[e]=o[0];return n}function s(t,n){const i=t.length;for(let e=0;e<i;++e)o[0]=t[e],o[1]=t[e]-o[0],n[e]=o[1];return n}i.d(n,{Zo:()=>r,jA:()=>s,jS:()=>e});const o=new Float32Array(2)}}]);