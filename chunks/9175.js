"use strict";(self.webpackChunkarcgis_typescript_template=self.webpackChunkarcgis_typescript_template||[]).push([[9175,3423],{20700:(t,e,n)=>{var i;n.d(e,{u:()=>i}),function(t){t[t.KILOBYTES=1024]="KILOBYTES",t[t.MEGABYTES=1048576]="MEGABYTES",t[t.GIGABYTES=1073741824]="GIGABYTES"}(i||(i={}))},38268:(t,e,n)=>{n.d(e,{O:()=>i});const i=()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches},37902:(t,e,n)=>{n.d(e,{Jd:()=>p,Nk:()=>r,OM:()=>h,Oo:()=>d,ix:()=>c,rJ:()=>a,yh:()=>u});var i=n(7743),o=n(59491);function l(t,e,n,l=2,s="abbr"){return(0,o.zJ)(t,(0,i.kM)(e,n).value,n,l,s)}function s(t,e,n,l=2,s="abbr"){return(0,o.nD)(t,(0,i.kM)(e,n).value,n,l,s)}function r(t,e,n){return(0,o.Me)(t.value,t.unit,t.rotationType,e,n)}function a(t,e,n){return(0,o.cs)(t.value,t.unit,t.rotationType,e,n)}function c(t,e,n,i,s="abbr"){switch(i=i??2,n){case"imperial":return function(t,e,n=2,i="abbr"){return(0,o.tr)(t,e.value,e.unit,n,i)}(t,e,i,s);case"metric":return function(t,e,n=2,i="abbr"){return(0,o.Ee)(t,e.value,e.unit,n,i)}(t,e,i,s);default:return l(t,e,n,i,s)}}function u(t,e,n,i=2,l="abbr"){switch(n){case"imperial":return function(t,e,n=2,i="abbr"){return(0,o.J1)(t,e.value,e.unit,n,i)}(t,e,i,l);case"metric":return function(t,e,n=2,i="abbr"){return(0,o.Mm)(t,e.value,e.unit,n,i)}(t,e,i,l);default:return s(t,e,n,i,l)}}function d(t,e,n,i=2,s="abbr"){switch(n){case"imperial":return function(t,e,n=2,i="abbr"){return(0,o.t_)(t,e.value,e.unit,n,i)}(t,e,i,s);case"metric":return function(t,e,n=2,i="abbr"){return(0,o.W4)(t,e.value,e.unit,n,i)}(t,e,i,s);default:return l(t,e,n,i,s)}}function h(t,e,n,i=2,l="abbr"){switch(n){case"imperial":return function(t,e,n=2,i="abbr"){return(0,o.LF)(t,e.value,e.unit,n,i)}(t,e,i,l);case"metric":return function(t,e,n=2,i="abbr"){return(0,o.e_)(t,e.value,e.unit,n,i)}(t,e,i,l);default:return s(t,e,n,i,l)}}function p(t,e,n,i=2,s="abbr"){switch(n){case"imperial":return function(t,e,n=2,i="abbr"){return(0,o.Sz)(t,e.value,e.unit,n,i)}(t,e,i,s);case"metric":return function(t,e,n=2,i="abbr"){return(0,o.zq)(t,e.value,e.unit,n,i)}(t,e,i,s);default:return l(t,e,n,i,s)}}},59491:(t,e,n)=>{n.d(e,{Cq:()=>u,Ee:()=>p,J1:()=>g,LF:()=>b,Me:()=>M,Mm:()=>v,Sz:()=>x,W4:()=>f,cs:()=>k,e_:()=>m,nD:()=>h,t_:()=>y,tr:()=>_,v7:()=>S,zJ:()=>d,zq:()=>w});var i=n(20700),o=n(80575),l=n(4506),s=n(7743),r=n(21332),a=n(5262),c=n(18632);function u(t,e,n){return t.units[e][n]}function d(t,e,n,i=2,o="abbr"){return`${(0,c.ZV)(e,{minimumFractionDigits:i,maximumFractionDigits:i,signDisplay:e>0?"never":"exceptZero"})} ${u(t,n,o)}`}function h(t,e,n,i=2,o="abbr"){return`${(0,c.ZV)(e,{minimumFractionDigits:i,maximumFractionDigits:i,signDisplay:"exceptZero"})} ${u(t,n,o)}`}function p(t,e,n,i=2,o="abbr"){const l=(0,a.x0)(e,n);return d(t,(0,a.oU)(e,n,l),l,i,o)}function v(t,e,n,i=2,o="abbr"){const l=(0,a.x0)(e,n);return h(t,(0,a.oU)(e,n,l),l,i,o)}function f(t,e,n,i=2,o="abbr"){const l=(0,a.x$)(e,n);return d(t,(0,a.oU)(e,n,l),l,i,o)}function m(t,e,n,i=2,o="abbr"){const l=(0,a.x$)(e,n);return h(t,(0,a.oU)(e,n,l),l,i,o)}function _(t,e,n,i=2,o="abbr"){const l=(0,a.OU)(e,n);return d(t,(0,a.oU)(e,n,l),l,i,o)}function g(t,e,n,i=2,o="abbr"){const l=(0,a.OU)(e,n);return h(t,(0,a.oU)(e,n,l),l,i,o)}function y(t,e,n,i=2,o="abbr"){const l=(0,a.y7)(e,n);return d(t,(0,a.oU)(e,n,l),l,i,o)}function b(t,e,n,i=2,o="abbr"){const l=(0,a.y7)(e,n);return h(t,(0,a.oU)(e,n,l),l,i,o)}function w(t,e,n,i=2,o="abbr"){const l=(0,a.wv)(e,n);return d(t,(0,a.oU)(e,n,l),l,i,o)}function x(t,e,n,i=2,o="abbr"){const l=(0,a.TL)(e,n);return d(t,(0,a.oU)(e,n,l),l,i,o)}function M(t,e,n,i,l){l=l??2;let r=o.ie.normalize((0,s.g2)((0,a.oU)(t,e,"degrees"),n,i),0,!0);const u={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:l,minimumFractionDigits:l,signDisplay:r>0?"never":"exceptZero"};return r=K(r,u),(0,c.ZV)(r,u)}function k(t,e,n,i,o){n!==i&&(t=-t);const l={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:o=o??2,minimumFractionDigits:o,signDisplay:"exceptZero"};let s=(0,a.oU)(t,e,"degrees")%360;return s=K(s,l),(0,c.ZV)(s,l)}const C=new Map;function K(t,e){const n=JSON.stringify(e);let i=C.get(n);return i||(i=new Intl.NumberFormat("en-US",e),C.set(n,i)),/\-?\+?360/.test(i.format(t))?0:t}const T=["B","kB","MB","GB","TB"];function S(t,e){let n=0===(e=Math.round(e))?0:Math.floor(Math.log(e)/Math.log(i.u.KILOBYTES));n=(0,l.qE)(n,0,T.length-1);const o=(0,c.ZV)(e/i.u.KILOBYTES**n,{maximumFractionDigits:2});return(0,r.HC)(t.units.bytes[T[n]],{fileSize:o})}},32159:(t,e,n)=>{n.d(e,{GD:()=>s,Y0:()=>c,lO:()=>u});var i=n(34670),o=n(44153),l=n(67488);const s=new o.A(i.fv),r=new o.A(i.FY),a=new o.A(i.LJ),c=new o.A(i.Ro);function u(t){const e=d.get(t);if(e)return e;let n=s;if(t)if(t===r)n=r;else if(t===a)n=a;else{const e=t.wkid,i=t.latestWkid;if(null!=e||null!=i)(0,l.tl)(e)||(0,l.tl)(i)?n=r:((0,l.ZL)(e)||(0,l.ZL)(i))&&(n=a);else{const e=t.wkt2??t.wkt;if(e){const t=e.toUpperCase();t===h?n=r:t===p&&(n=a)}}}return d.set(t,n),n}const d=new Map,h=r.wkt.toUpperCase(),p=a.wkt.toUpperCase()},92174:(t,e,n)=>{n.d(e,{c:()=>l});var i=n(5262),o=n(83382);function l(t){const e="metric";if(null==t)return e;const n=t.map,l=(n&&"portalItem"in n?n.portalItem?.portal:null)??o.A.getDefault();switch(l.user?.units??l.units){case e:return e;case"english":return"imperial"}return(0,i.jM)(t.spatialReference)??e}},83423:(t,e,n)=>{n.d(e,{l:()=>b});var i=n(82392),o=n(73783),l=n(57888),s=n(61985),r=n(23572),a=n(81482),c=(n(6273),n(80861),n(67498),n(26325)),u=n(53334),d=n(80347),h=n(19913),p=n(34561),v=n(64159),f=n(19541),m=n(61793),_=n(44223),g=n(99842),y=n(17467);let b=class extends o.A{set graphic(t){this._circleCollisionCache=null,this._originalSymbol=t.symbol,this._set("graphic",t),this.attachSymbolChanged()}get elevationInfo(){const{layer:t}=this.graphic,e=t&&"elevationInfo"in t?t.elevationInfo:null,n=(0,f.ky)(this.graphic),i=e?e.offset:0;return new _.A({mode:n,offset:i})}set focusedSymbol(t){t!==this._get("focusedSymbol")&&(this._set("focusedSymbol",t),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(t){t!==this._get("grabbing")&&(this._set("grabbing",t),this._updateGraphicSymbol())}set hovering(t){t!==this._get("hovering")&&(this._set("hovering",t),this._updateGraphicSymbol())}set selected(t){t!==this._get("selected")&&(this._set("selected",t),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:t?"select":"deselect"}))}get _focused(){return this._get("hovering")||this._get("grabbing")}constructor(t){super(t),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.consumesClicks=!0,this.events=new l.A.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set("view",null)}intersectionDistance(t){const e=this.graphic;if(!1===e.visible)return null;const n=e.geometry;if(null==n)return null;const i=this._get("focusedSymbol"),o=null!=i?i:e.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,t,n,o):this._intersectDistance3D(this.view,t,e)}attach(){this.attachSymbolChanged(),null!=this.layer&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),null!=this.layer&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=(0,s.wB)((()=>this.graphic?.symbol),(t=>{null!=t&&t!==this.focusedSymbol&&t!==this._originalSymbol&&(this._originalSymbol=t,this._focused&&null!=this.focusedSymbol&&(this.graphic.symbol=this.focusedSymbol))}),s.OH)}detachSymbolChanged(){null!=this._graphicSymbolChangedHandle&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}onElevationChange(){}onViewChange(){}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&null!=this.focusedSymbol?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(t,e,n,i){if(null==(i=i||(0,m.SF)(n)))return null;let o=this._circleCollisionCache;if("point"===n.type&&"cim"===i.type&&"CIMPointSymbol"===i.data.symbol?.type&&i.data.symbol.symbolLayers){const{offsetX:o,offsetY:l,size:s}=(0,g.T)(i),a=(0,r.WA)(e,x),c=s/2,d=t.toScreen(n),h=d.x+o,p=d.y+l;return(0,u.hG)(a,[h,p])<c*c?1:null}if("point"!==n.type||"simple-marker"!==i.type)return(0,y.t)(e,n,t)?1:null;if(null==o||!o.originalPoint.equals(n)){const e=n,l=t.spatialReference;if((0,p.canProjectWithoutEngine)(e.spatialReference,l)){const t=(0,p.project)(e,l);o={originalPoint:e.clone(),mapPoint:t,radiusPx:(0,r.Lz)(i.size)},this._circleCollisionCache=o}}if(null!=o){const n=(0,r.WA)(e,x),l=t.toScreen?.(o.mapPoint);if(!l)return null;const s=o.radiusPx,a=l.x+(0,r.Lz)(i.xoffset),c=l.y-(0,r.Lz)(i.yoffset);return(0,u.hG)(n,[a,c])<s*s?1:null}return null}_intersectDistance3D(t,e,n){const i=t.toMap(e,{include:[n]});return i&&(0,v.g)(i,w,t.renderSpatialReference)?(0,d.q)(w,t.state.camera.eye):null}};(0,i._)([(0,a.MZ)({constructOnly:!0,nonNullable:!0})],b.prototype,"graphic",null),(0,i._)([(0,a.MZ)()],b.prototype,"elevationInfo",null),(0,i._)([(0,a.MZ)({constructOnly:!0,nonNullable:!0})],b.prototype,"view",void 0),(0,i._)([(0,a.MZ)({value:null})],b.prototype,"focusedSymbol",null),(0,i._)([(0,a.MZ)({constructOnly:!0})],b.prototype,"layer",void 0),(0,i._)([(0,a.MZ)()],b.prototype,"interactive",void 0),(0,i._)([(0,a.MZ)()],b.prototype,"selectable",void 0),(0,i._)([(0,a.MZ)()],b.prototype,"grabbable",void 0),(0,i._)([(0,a.MZ)({value:!1})],b.prototype,"grabbing",null),(0,i._)([(0,a.MZ)()],b.prototype,"dragging",void 0),(0,i._)([(0,a.MZ)()],b.prototype,"hovering",null),(0,i._)([(0,a.MZ)({value:!1})],b.prototype,"selected",null),(0,i._)([(0,a.MZ)()],b.prototype,"cursor",void 0),b=(0,i._)([(0,c.$)("esri.views.interactive.GraphicManipulator")],b);const w=(0,h.vt)(),x=(0,r.gs)()},99842:(t,e,n)=>{n.d(e,{T:()=>o});var i=n(23572);function o(t){let e=0,n=0,o=0;return t?("cim"===t.type&&t.data.symbol&&"symbolLayers"in t.data.symbol&&t.data.symbol.symbolLayers&&t.data.symbol.symbolLayers.map((t=>{"CIMVectorMarker"===t.type&&t.anchorPoint&&(Math.abs(t.anchorPoint.x)>e&&(e=t.anchorPoint.x),Math.abs(t.anchorPoint.y)>n&&(n=t.anchorPoint.y),null!=t.size&&t.size>o&&(o=t.size))})),e=(0,i.Lz)(e),n=(0,i.Lz)(n),o=(0,i.Lz)(o),{offsetX:e,offsetY:n,size:o}):{offsetX:e,offsetY:n,size:o}}},27920:(t,e,n)=>{n.d(e,{w:()=>r});var i=n(82392),o=n(73783),l=n(81482),s=(n(6273),n(80861),n(67498),n(26325));let r=class extends o.A{constructor(t){super(t),this.helpMessage=void 0,this.viewType=void 0}get visibleElements(){return this.sketchOptions.tooltips.visibleElements}get allFields(){return[]}get editableFields(){return this.allFields.filter((t=>t.visible&&!t.readOnly))}};(0,i._)([(0,l.MZ)()],r.prototype,"sketchOptions",void 0),(0,i._)([(0,l.MZ)()],r.prototype,"visibleElements",null),(0,i._)([(0,l.MZ)()],r.prototype,"helpMessage",void 0),(0,i._)([(0,l.MZ)()],r.prototype,"viewType",void 0),(0,i._)([(0,l.MZ)()],r.prototype,"allFields",null),(0,i._)([(0,l.MZ)()],r.prototype,"editableFields",null),r=(0,i._)([(0,s.$)("esri.views.interactive.tooltip.SketchTooltipInfo")],r)},16761:(t,e,n)=>{n.d(e,{m:()=>yt});var i=n(82392),o=n(73783),l=n(57725),s=n(61985),r=n(81482),a=(n(6273),n(80861),n(67498),n(26325)),c=n(56931);const u="esri-tooltip",d=`${u}-content`,h=`${u}-content--input`,p=`${u}-content__header`,v=`${u}-content__header__spacer`,f=`${u}-content__header__actions`,m=`${u}-draw-header-actions`,_=`${u}-table`,g=`${u}-help-message`;n(62991);var y=n(52239),b=n(33510),w=n(2110);const x=`${u}-field`,M={base:x,inputMode:`${x}--input`,title:`${x}__title`,value:`${x}__value`};let k=class extends y.A{constructor(){super(...arguments),this.hidden=!1,this.mode="feedback"}render(){return(0,w.K)("div",{class:this.classes({[M.base]:!0,[M.inputMode]:"input"===this.mode})},(0,w.K)("div",{class:M.title},this.title),(0,w.K)("div",{class:M.value},this.value))}};(0,i._)([(0,r.MZ)()],k.prototype,"hidden",void 0),(0,i._)([(0,r.MZ)()],k.prototype,"mode",void 0),(0,i._)([(0,r.MZ)()],k.prototype,"title",void 0),(0,i._)([(0,r.MZ)()],k.prototype,"value",void 0),k=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.components.TooltipField")],k);const C={base:`${u}-value-by-value`};let K=class extends y.A{constructor(){super(...arguments),this.divider="×"}render(){return(0,w.K)("div",{class:C.base},(0,w.K)("span",null,this.left),(0,w.K)("span",null,this.divider),(0,w.K)("span",null,this.right))}};(0,i._)([(0,r.MZ)()],K.prototype,"left",void 0),(0,i._)([(0,r.MZ)()],K.prototype,"divider",void 0),(0,i._)([(0,r.MZ)()],K.prototype,"right",void 0),K=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.components.ValueByValue")],K),n(39553);var T=n(38268),S=n(36329),Z=n(37623),D=n(37902),z=n(9987),$=n(59491),E=n(5262),L=n(92174),V=n(92750),F=n(96871),I=n(9737),A=n(2153),O=n(18632);let P=class extends y.A{constructor(){super(...arguments),this._focusAbortController=new AbortController,this._transition=null,this._mode="feedback",this._getFormatters=(0,S.B)(((t,e)=>({angleRelative:t=>(0,O.ZV)(t,{minimumFractionDigits:G,maximumFractionDigits:G,signDisplay:"exceptZero"}),direction:t=>(0,D.Nk)(t,t.rotationType,G),directionRelative:t=>{const e=(0,F.hF)(t);return(0,O.ZV)(e,{style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:G,minimumFractionDigits:G,signDisplay:e>0?"never":"exceptZero"})},directionRelativeBilateral:t=>(0,D.Nk)(t,t.rotationType,G),area:(n,i)=>(0,D.Jd)(t,n,i??e.area),length:(n,i,o)=>(0,D.ix)(t,n,i??e.length,o),lengthRelative:(n,i)=>(0,D.yh)(t,n,i??e.length),totalLength:(n,i)=>(0,D.ix)(t,n,i??e.length),verticalLength:(n,i)=>(0,D.Oo)(t,n,i??e.length),verticalLengthRelative:(n,i)=>(0,D.OM)(t,n,i??e.verticalLength),percentage:t=>(0,O.ZV)(t.value,{style:"percent"}),scale:t=>(0,O.ZV)(t,{style:"percent",maximumFractionDigits:0})}))),this._onDiscard=()=>{this.exitInputMode()},this._onCommit=(t,e)=>{if("commit-and-exit"===e)return void this.exitInputMode();const n=this._getFocusableElements(),i=n.length,o=n.indexOf(t);if(-1===o)return void this.exitInputMode();const l=((o+("commit-and-next"===e?1:-1))%i+i)%i;R(n.at(l))},this._handleTab=t=>{if(t.code!==V.ac.next)return;const e=this._getFocusableElements(),n=e.at(0),i=e.at(-1);n&&i&&(t.shiftKey?document.activeElement===n&&(t.preventDefault(),R(i)):document.activeElement===i&&(t.preventDefault(),R(n)))}}get mode(){return this._mode}get _displayUnits(){const t=(0,L.c)(this.tooltip.view);return{length:t,verticalLength:t,area:t,angle:"degrees"}}get _inputUnitInfos(){const t=this._messagesUnits,e=e=>({unit:e,abbreviation:(0,$.Cq)(t,e,"abbr")}),n=(0,L.c)(this.tooltip.view),i=e((0,E.wL)(n)),o=e((0,E.m5)(n)),l=e((0,E.tW)(n)),s=e("degrees");return{length:i,lengthRelative:i,verticalLength:o,verticalLengthRelative:o,area:l,direction:s,orientation:s,rotation:s}}get _formatters(){return this._getFormatters(this._messagesUnits,this._displayUnits)}get fieldContext(){return{formatters:this._formatters,inputUnitInfos:this._inputUnitInfos,messages:this._messagesTooltip,sketchOptions:this.info.sketchOptions,onCommit:this._onCommit,onDiscard:this._onDiscard}}render(){const t=U(this._renderContent()),{visibleElements:e}=this.info.sketchOptions.tooltips,n=e.helpMessage?this._getHelpMessage():null,i=t.length>0,o=i||!!n,l="input"===this.mode,s=U(this._renderActions());return(0,w.K)("div",{class:(0,b.Ly)(d,l&&h),onkeydown:this._handleTab},l&&o&&e.header?(0,w.K)("div",{class:p,key:"header"},(0,w.K)("calcite-button",{appearance:"transparent",iconFlipRtl:"both",iconStart:"chevron-left",key:"discard-button",kind:"neutral",onclick:this._onDiscard,scale:"s",tabIndex:-1}),s.length>0?(0,w.K)(w.w,null,(0,w.K)("div",{class:v,key:"spacer"}),(0,w.K)("div",{class:f,key:"actions"},s)):null):null,i?(0,w.K)("div",{class:_,key:"content"},...t):null,n?(0,w.K)("div",{class:g,key:"help-message"},n):null)}_renderActions(){return null}loadDependencies(){return(0,I.W)({button:()=>Promise.all([n.e(2006),n.e(7053),n.e(9091),n.e(5399)]).then(n.bind(n,45399)),icon:()=>Promise.all([n.e(2006),n.e(855)]).then(n.bind(n,50855)),input:()=>Promise.all([n.e(2006),n.e(7053),n.e(9091),n.e(9839),n.e(1512)]).then(n.bind(n,21512))})}async enterInputMode(t){try{await this._transitionTo("input"),await this._focusField(t)}catch(t){(0,Z.jH)(t)}}async exitInputMode(){try{await this._transitionTo("feedback"),document.querySelector(".esri-view-surface").focus()}catch(t){(0,Z.jH)(t)}}_getHelpMessage(t){const{info:e}=this,{helpMessage:n,viewType:i}=e,o=t??n,l="3d"===i?"helpMessages3d":"helpMessages2d";return o?this._messagesTooltip?.sketch?.[l]?.[o]:void 0}async _focusField(t){this._focusAbortController?.abort(),this._focusAbortController=new AbortController;const{signal:e}=this._focusAbortController;await this._waitForInputs(),(0,Z.Te)(e);const n=this._getFocusableInputs();R(t?n.find((e=>e.getAttribute("data-field-name")===t)):n.at(0))}async _transitionTo(t){if(this._mode===t)return;const e=()=>{this._mode=t,this.tooltip.positionMode="input"===t?"fixed":"follow-cursor"};if(!this.domNode?.firstChild||!document.startViewTransition||(0,T.O)())return void e();this.autoRenderingEnabled=!1,this._transition?.skipTransition();const n=this._transition=document.startViewTransition((()=>{if(!this.destroyed)return this.autoRenderingEnabled=!0,e(),this.renderNow(),(0,z.NO)()}));try{await this._transition.finished}finally{n===this._transition&&(this._transition=null)}}async _waitForInputs(){const t=Date.now(),e=()=>Array.from(this.domNode?.querySelectorAll("calcite-input")??[]);for(;0===e().length;)if(await(0,Z.Pl)(N),Date.now()-t>B)return}_getFocusableInputs(){return Array.from(this.domNode?.querySelectorAll("calcite-input:not([read-only]):not([disabled])")??[])}_getFocusableElements(){const t=this.domNode?.querySelector(`.${m}`);return[...Array.from(t?.querySelectorAll("calcite-action:not([disabled])")??[]),...this._getFocusableInputs()]}};function R(t){t?.setFocus()}function U(t){return(Array.isArray(t)?t:[t]).flat(10).filter((t=>!!t))}(0,i._)([(0,A.G)("esri/core/t9n/Units"),(0,r.MZ)()],P.prototype,"_messagesUnits",void 0),(0,i._)([(0,A.G)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,r.MZ)()],P.prototype,"_messagesTooltip",void 0),(0,i._)([(0,r.MZ)()],P.prototype,"info",void 0),(0,i._)([(0,r.MZ)()],P.prototype,"tooltip",void 0),(0,i._)([(0,r.MZ)()],P.prototype,"_mode",void 0),(0,i._)([(0,r.MZ)()],P.prototype,"mode",null),(0,i._)([(0,r.MZ)()],P.prototype,"_displayUnits",null),(0,i._)([(0,r.MZ)()],P.prototype,"_inputUnitInfos",null),(0,i._)([(0,r.MZ)()],P.prototype,"_formatters",null),(0,i._)([(0,r.MZ)()],P.prototype,"fieldContext",null),P=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContent")],P);const G=1,N=50,B=1e3;let H=class extends P{_renderContent(){const{area:t,radius:e,xSize:n,ySize:i,visibleElements:o}=this.info,l=this._messagesTooltip.sketch,s=this._formatters;return(0,w.K)(w.w,null,o.radius&&null!=e?(0,w.K)(k,{title:l.radius,value:s.length(e)}):null,o.size&&null!=n&&null!=i?(0,w.K)(k,{title:l.size,value:(0,w.K)(K,{left:s.length(n),right:s.length(i)})}):null,o.area?(0,w.K)(k,{title:l.area,value:s.area(t)}):null)}};H=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentDrawCircle")],H);const Y=`${u}-editable-field`,q={base:Y,inputMode:`${Y}--input`,locked:`${Y}--locked`,title:`${Y}__title`,titleContent:`${Y}__title__content`,value:`${Y}__value`,valueContent:`${Y}__value__content`,valueContentReadOnly:`${Y}__value__content--read-only`,input:`${Y}__input`,inputSuffix:`${Y}__input-suffix`,button:`${Y}__button`};let W=class extends y.A{constructor(){super(...arguments),this._input=null,this._selectText=()=>{const t=()=>{this._input===document.activeElement&&this._input?.selectText()};t(),(0,z.$m)().then(t)},this._onKeyDown=t=>{t.key===V.ac.discard&&this._discard()},this._onInputKeyDown=t=>{switch(t.key){case V.ac.commit:return this._commit({type:"commit-and-exit",allowLockingCurrentValue:!0});case V.ac.next:return t.preventDefault(),t.stopPropagation(),this._commit({type:t.shiftKey?"commit-and-previous":"commit-and-next",allowLockingCurrentValue:!1})}},this._onInput=t=>{this.field.inputValue=t.target.value},this._onLockClick=()=>{const{field:t}=this;t.locked?t.unlock():this._lock()}}initialize(){this.addHandles((0,s.wB)((()=>this._rawDisplayValue),(()=>{const{committed:t,inputValue:e}=this.field;t||e||this._input!==document.activeElement||this._selectText()})))}loadDependencies(){return(0,I.W)({action:()=>Promise.all([n.e(2006),n.e(7053),n.e(8718),n.e(1644)]).then(n.bind(n,31644)),icon:()=>Promise.all([n.e(2006),n.e(855)]).then(n.bind(n,50855)),input:()=>Promise.all([n.e(2006),n.e(7053),n.e(9091),n.e(9839),n.e(1512)]).then(n.bind(n,21512))})}render(){const{mode:t,field:e}=this,n="input"===t,{locked:i}=e;return(0,w.K)("div",{class:this.classes({[q.base]:!0,[q.inputMode]:"input"===t,[q.locked]:i})},(0,w.K)("div",{class:q.title,key:"title"},(0,w.K)("div",{class:q.titleContent,key:"title-content"},this._title,i&&!n?(0,w.K)("calcite-icon",{icon:"lock",key:"icon",scale:"s"}):null)),(0,w.K)("div",{class:q.value,key:"value"},n?this._renderInputModeValue():this._renderFeedbackModeValue()))}get _initialValue(){const{field:t}=this;return null!=t.actual?t.toInputUnits(t.actual,this.context).value:null}get _formattedValue(){const{context:t,field:e}=this,{actual:n,committed:i,format:o}=e;return null!=i?o(i,t):null!=n?o(n,t):J}get _rawDisplayValue(){const{field:t}=this,{inputValue:e,committed:n}=t;return null!=e?e:this._toString(null!=n?t.toInputUnits(n,this.context).value:this._initialValue)}get _suffix(){const{suffix:t}=this.field;return"string"==typeof t?t:t(this.context)}get _title(){const{title:t}=this.field;return"string"==typeof t?t:t(this.context)}_renderFeedbackModeValue(){return(0,w.K)("span",{key:"value-feedback"},this._formattedValue)}_renderInputModeValue(){return this.field.readOnly?this._renderValueReadOnly():this._renderValueWritable()}_renderValueReadOnly(){return(0,w.K)("span",{class:q.valueContentReadOnly,key:"value-readonly"},this._formattedValue)}_renderValueWritable(){const{locked:t,name:e}=this.field,n=this.context?.messages.sketch??{},i=t?n.unlockConstraint:n.lockConstraint;return(0,w.K)("div",{class:q.valueContent,key:"value-writable",onkeydown:this._onKeyDown},(0,w.K)("calcite-input",{afterCreate:t=>{this._input=t},class:q.input,"data-field-name":e,onfocus:this._selectText,onkeydown:this._onInputKeyDown,scale:"s",type:"text",value:this._rawDisplayValue,onCalciteInputInput:this._onInput}),(0,w.K)("div",{class:q.inputSuffix,key:"suffix"},this._suffix),(0,w.K)("calcite-action",{alignment:"center",appearance:"transparent",class:q.button,compact:!0,icon:t?"lock":"unlock",label:i,onclick:this._onLockClick,scale:"s",tabIndex:-1,text:"",title:i}))}_commit({type:t,allowLockingCurrentValue:e}){const{_input:n,field:i}=this;if(!n)return;const{locked:o,inputValue:l}=i;o&&""===l?i.unlock():(e&&!o||null!=l)&&this._lock(),this.context.onCommit(n,t)}_discard(){this._input&&(this.field.inputValue=null,this.context.onDiscard(this._input))}_lock(){const{field:t}=this,e=this._parseNumber(t.inputValue),n=null!=e?t.createQuantity(e,this.context):null;t.lock(n)}_parseNumber(t){if(null==t)return null;const e=parseFloat(t);return isNaN(e)||!isFinite(e)?null:e}_toString(t){return null!=t?t.toFixed(2):J}};(0,i._)([(0,r.MZ)()],W.prototype,"field",void 0),(0,i._)([(0,r.MZ)()],W.prototype,"context",void 0),(0,i._)([(0,r.MZ)()],W.prototype,"mode",void 0),(0,i._)([(0,r.MZ)()],W.prototype,"_initialValue",null),(0,i._)([(0,r.MZ)()],W.prototype,"_formattedValue",null),(0,i._)([(0,r.MZ)()],W.prototype,"_input",void 0),(0,i._)([(0,r.MZ)()],W.prototype,"_rawDisplayValue",null),(0,i._)([(0,r.MZ)()],W.prototype,"_suffix",null),(0,i._)([(0,r.MZ)()],W.prototype,"_title",null),W=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.components.TooltipEditableField")],W);const J="—";function X(t){const e=t.fields.filter((t=>!0===t?.visible));return 0===e.length?null:(0,w.K)(w.w,null,e.map((e=>(0,w.K)(W,{context:t.context,field:e,key:e.id,mode:t.mode}))))}let j=class extends P{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{elevation:i,visibleElements:o}=e;return(0,w.K)(X,{context:t,fields:[o.elevation?i:void 0],mode:n})}};j=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentDrawMesh")],j);let Q=class extends P{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{elevation:i,visibleElements:o}=e;return(0,w.K)(X,{context:t,fields:[o.elevation?i:void 0],mode:n})}};Q=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")],Q);var tt=n(58042);let et=class extends y.A{constructor(t){super(t),this._onDirectionModeChange=t=>{const e=t.target.selectedItems?.[0]?.getAttribute("data-mode");this.sketchOptions.values.directionMode=e??"absolute"}}render(){const{directionMode:t}=this.sketchOptions.values,e=this.messages?.sketch,n="absolute",i="relative";return(0,w.K)("div",{class:m},(0,w.K)("calcite-dropdown",{key:"direction-mode",placement:"bottom-end",scale:"s",widthScale:"s",onCalciteDropdownSelect:this._onDirectionModeChange},(0,w.K)("calcite-action",{alignment:"end",appearance:"transparent",icon:tt.N[t],scale:"s",slot:"trigger",text:"",textEnabled:!1,title:e?.directionModeSelect?.title}),(0,w.K)("calcite-dropdown-group",{selectionMode:"single"},(0,w.K)("calcite-dropdown-item",{"data-mode":i,"data-testid":"tooltip-direction-mode-relative",iconStart:tt.N.relative,key:"relative",selected:t===i},e?.directionModeSelect?.relative),(0,w.K)("calcite-dropdown-item",{"data-mode":n,"data-testid":"tooltip-direction-mode-absolute",iconStart:tt.N.absolute,key:"absolute",selected:t===n},e?.directionModeSelect?.absolute))))}loadDependencies(){return(0,I.W)({action:()=>Promise.all([n.e(2006),n.e(7053),n.e(8718),n.e(1644)]).then(n.bind(n,31644)),dropdown:()=>Promise.all([n.e(2006),n.e(9575),n.e(4794)]).then(n.bind(n,94794)),"dropdown-item":()=>Promise.all([n.e(2006),n.e(9383)]).then(n.bind(n,79383)),"dropdown-group":()=>n.e(6361).then(n.bind(n,96361))})}};(0,i._)([(0,A.G)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,r.MZ)()],et.prototype,"messages",void 0),(0,i._)([(0,r.MZ)()],et.prototype,"sketchOptions",void 0),et=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.components.DrawHeaderActions")],et);let nt=class extends P{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{area:i,distance:o,elevation:l,direction:s,visibleElements:r}=e;return(0,w.K)(X,{context:t,fields:[r.direction?s:void 0,r.distance?o:void 0,r.elevation?l:void 0,r.area?i:void 0],mode:n})}_renderActions(){return(0,w.K)(et,{sketchOptions:this.info.sketchOptions})}};nt=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")],nt);let it=class extends P{_renderContent(){const{fieldContext:t,info:e,mode:n}=this,{distance:i,elevation:o,direction:l,totalLength:s,visibleElements:r}=e;return(0,w.K)(X,{context:t,fields:[r.direction?l:void 0,r.distance?i:void 0,r.elevation?o:void 0,r.totalLength?s:void 0],mode:n})}_renderActions(){return(0,w.K)(et,{sketchOptions:this.info.sketchOptions})}};it=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")],it);let ot=class extends P{_renderContent(){const{area:t,xSize:e,ySize:n,visibleElements:i}=this.info,o=this._messagesTooltip.sketch,l=this._formatters;return(0,w.K)(w.w,null,i.size&&null!=e&&null!=n?(0,w.K)(k,{title:o.size,value:(0,w.K)(K,{left:l.length(e),right:l.length(n)})}):null,i.area?(0,w.K)(k,{title:o.area,value:l.area(t)}):null)}};ot=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentDrawRectangle")],ot);let lt=class extends P{_renderContent(){const{angle:t,visibleElements:e}=this.info,n=this._messagesTooltip.sketch;return(0,w.K)(w.w,null,e.rotation?(0,w.K)(k,{title:n.rotation,value:this._formatters.angleRelative(t)}):null)}};lt=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")],lt);let st=class extends P{_renderContent(){const t=this.info,{visibleElements:e}=t,n=this._messagesTooltip.sketch,i=this._formatters;return(0,w.K)(w.w,null,e.size?(0,w.K)(k,{title:n.size,value:(0,w.K)(K,{left:i.length(t.xSize),right:i.length(t.ySize)})}):null,e.scale?(0,w.K)(k,{title:n.scale,value:(0,w.K)(K,{left:i.scale(t.xScale),right:i.scale(t.yScale)})}):null)}};st=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentExtentScale")],st);let rt=class extends P{_renderContent(){const{area:t,distance:e,totalLength:n,visibleElements:i}=this.info,o=this._messagesTooltip.sketch,l=this._formatters;return(0,w.K)(w.w,null,i.distance?(0,w.K)(k,{title:o.distance,value:l.lengthRelative(e)}):null,i.area&&null!=t?(0,w.K)(k,{title:o.area,value:l.area(t)}):null,i.totalLength&&null!=n?(0,w.K)(k,{title:o.totalLength,value:l.length(n)}):null)}};rt=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")],rt);let at=class extends P{_renderContent(){const{info:t}=this,{visibleElements:e}=t,n=this._messagesTooltip.sketch,i=this._formatters;return(0,w.K)(w.w,null,e.orientation&&null!=t.orientation?(0,w.K)(k,{key:"orientation",title:n.orientation,value:(0,D.Nk)(t.orientation,t.rotationType,t.orientationPrecision)}):null,e.size&&null!=t.size?(0,w.K)(k,{key:"size",title:n.size,value:i.length(t.size,t.sizeUnit,t.sizePrecision)}):null)}};at=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentTransformAbsolute")],at);let ct=class extends P{_renderContent(){const{info:t}=this,{visibleElements:e}=t,n=this._messagesTooltip.sketch;return(0,w.K)(w.w,null,e.rotation&&null!=t.rotation?(0,w.K)(k,{key:"rotation",title:n.rotation,value:(0,D.rJ)(t.rotation,t.rotationType,t.rotationPrecision)}):null,e.orientation&&null!=t.orientation?(0,w.K)(k,{key:"orientation",title:n.orientation,value:(0,D.Nk)(t.orientation,t.rotationType,t.orientationPrecision)}):null)}};ct=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentTransformRotate")],ct);let ut=class extends P{_renderContent(){const{info:t}=this,{visibleElements:e}=t,n=this._messagesTooltip.sketch,i=this._formatters;return(0,w.K)(w.w,null,e.scale&&null!=t.scale?(0,w.K)(k,{key:"scale",title:n.scale,value:i.percentage(t.scale)}):null,e.size&&null!=t.size?(0,w.K)(k,{key:"size",title:n.size,value:i.length(t.size,t.sizeUnit,t.sizePrecision)}):null)}};ut=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentTransformScale")],ut);let dt=class extends P{_renderContent(){const{info:t}=this,{visibleElements:e}=t,n=this._messagesTooltip.sketch,i=this._formatters;return(0,w.K)(w.w,null,e.distance?(0,w.K)(k,{title:n.distance,value:i.length(t.distance)}):null)}};dt=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateGraphic")],dt);let ht=class extends P{_renderContent(){const{info:t}=this,{visibleElements:e}=t,n=this._messagesTooltip.sketch,i=this._formatters;return(0,w.K)(w.w,null,e.distance?(0,w.K)(k,{title:n.distance,value:i.length(t.distance)}):null)}};ht=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateGraphicXY")],ht);let pt=class extends P{_renderContent(){const{info:t}=this,{visibleElements:e}=t,n=this._messagesTooltip.sketch;return(0,w.K)(w.w,null,e.distance?(0,w.K)(k,{title:n.distance,value:this._formatters.verticalLengthRelative(t.distance)}):null)}};pt=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateGraphicZ")],pt);let vt=class extends P{_renderContent(){const{distance:t,elevation:e,area:n,totalLength:i,visibleElements:o}=this.info,l=this._messagesTooltip.sketch,s=this._formatters;return(0,w.K)(w.w,null,o.distance?(0,w.K)(k,{title:l.distance,value:s.length(t)}):null,o.elevation&&null!=e?.actual?(0,w.K)(k,{title:l.elevation,value:s.verticalLength(e.actual)}):null,o.area&&null!=n?(0,w.K)(k,{title:l.area,value:s.area(n)}):null,o.totalLength&&null!=i?(0,w.K)(k,{title:l.totalLength,value:s.length(i)}):null)}};vt=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")],vt);let ft=class extends P{_renderContent(){const{area:t,distance:e,elevation:n,totalLength:i,visibleElements:o}=this.info,l=this._messagesTooltip.sketch,s=this._formatters;return(0,w.K)(w.w,null,o.distance?(0,w.K)(k,{title:l.distance,value:s.lengthRelative(e)}):null,o.elevation&&null!=n?.actual?(0,w.K)(k,{title:l.elevation,value:s.verticalLength(n.actual)}):null,o.area&&null!=t?(0,w.K)(k,{title:l.area,value:s.area(t)}):null,o.totalLength&&null!=i?(0,w.K)(k,{title:l.totalLength,value:s.length(i)}):null)}};ft=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateVertexXY")],ft);let mt=class extends P{_renderContent(){const{distance:t,elevation:e,visibleElements:n}=this.info,i=this._messagesTooltip.sketch,o=this._formatters;return(0,w.K)(w.w,null,n.distance?(0,w.K)(k,{title:i.distance,value:o.verticalLengthRelative(t)}):null,n.elevation&&null!=e?.actual?(0,w.K)(k,{title:i.elevation,value:o.verticalLength(e.actual)}):null)}};function _t(t,e){if(null==e)return null;const n=document.createElement("div");switch(e.type){case"draw-point":return new Q({tooltip:t,info:e,container:n});case"draw-polygon":return new nt({tooltip:t,info:e,container:n});case"draw-polyline":return new it({tooltip:t,info:e,container:n});case"draw-mesh":return new j({tooltip:t,info:e,container:n});case"draw-rectangle":return new ot({tooltip:t,info:e,container:n});case"draw-circle":return new H({tooltip:t,info:e,container:n});case"extent-rotate":return new lt({tooltip:t,info:e,container:n});case"extent-scale":return new st({tooltip:t,info:e,container:n});case"transform-absolute":return new at({tooltip:t,info:e,container:n});case"transform-rotate":return new ct({tooltip:t,info:e,container:n});case"transform-scale":return new ut({tooltip:t,info:e,container:n});case"translate-graphic":return new dt({tooltip:t,info:e,container:n});case"translate-graphic-z":return new pt({tooltip:t,info:e,container:n});case"translate-graphic-xy":return new ht({tooltip:t,info:e,container:n});case"translate-vertex":return new vt({tooltip:t,info:e,container:n});case"translate-vertex-z":return new mt({tooltip:t,info:e,container:n});case"translate-vertex-xy":return new ft({tooltip:t,info:e,container:n});case"reshape-edge-offset":return new rt({tooltip:t,info:e,container:n})}}mt=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateVertexZ")],mt);const gt={base:`${u}`};let yt=class extends o.A{constructor(t){super(t),this.info=null,this.positionMode="follow-cursor",this.content=null,this.contentContainer=(()=>{const t=document.createElement("div");return t.classList.add(gt.base),(0,c.hY)(t),t})()}initialize(){const{contentContainer:t}=this;this.addHandles([(0,s.wB)((()=>this.view.overlay?.surface),(e=>{t.remove(),e?.appendChild(t)}),s.pc),(0,s.wB)((()=>this.info),((e,n)=>{if(null!=this.content&&null!=e&&null!=n&&e.type===n.type)this.content.info=e;else{this.content=(0,l.pR)(this.content);const n=_t(this,e);n&&(this.content=n,n.container&&t.appendChild(n.container))}}),s.pc),(0,s.wB)((()=>({container:this.contentContainer,content:this.content,screenPoint:this._screenPoint,positionMode:this.positionMode})),bt,s.pc)])}destroy(){this.info=null,this.content=(0,l.pR)(this.content),this.contentContainer.remove()}get mode(){return this.content?.mode??"feedback"}get test(){return{visible:"none"!==this.contentContainer?.style.display}}get _screenPoint(){const t=this.view.inputManager;return t?.multiTouchActive?null:t?.latestPointerLocation}clear(){this.info=null}async enterInputMode(t){await(this.content?.enterInputMode(t))}async exitInputMode(){await(this.content?.exitInputMode())}};function bt({container:t,content:e,screenPoint:n,positionMode:i}){const{style:o}=t;if("fixed"!==i)if(null!=n&&null!=e){o.display="block";const e=(0,b.V8)(t),i=`translate(${Math.round(n.x)+wt[0]*(e?-1:1)}px, ${Math.round(n.y)+wt[1]}px)`;o.transform=e?`translate(-100%, 0) ${i}`:i}else o.display="none"}(0,i._)([(0,r.MZ)({nonNullable:!0})],yt.prototype,"view",void 0),(0,i._)([(0,r.MZ)()],yt.prototype,"info",void 0),(0,i._)([(0,r.MZ)()],yt.prototype,"positionMode",void 0),(0,i._)([(0,r.MZ)()],yt.prototype,"content",void 0),(0,i._)([(0,r.MZ)()],yt.prototype,"mode",null),(0,i._)([(0,r.MZ)()],yt.prototype,"contentContainer",void 0),(0,i._)([(0,r.MZ)()],yt.prototype,"_screenPoint",null),yt=(0,i._)([(0,a.$)("esri.views.interactive.tooltip.Tooltip")],yt);const wt=[20,20]},49970:(t,e,n)=>{n.d(e,{Do:()=>a,Kt:()=>r,ob:()=>s});var i=n(19913),o=n(68489),l=n(1186);function s(t){return(0,l.mh)(t)??(0,o.Xg)(t)}function r(t,e){return(0,l.Og)(t,e)??(0,o.ll)(t,e)}function a(t,e,n){return c[0]=t[0],c[1]=t[1],c[2]=3===t.length?t[2]:0,u[0]=e[0],u[1]=e[1],u[2]=3===e.length?e[2]:0,(0,l.n3)(c,u,n)??(0,o.sT)(c,u,n)}const c=(0,i.vt)(),u=(0,i.vt)()},68489:(t,e,n)=>{n.d(e,{Of:()=>f,Qc:()=>m,Xg:()=>h,cL:()=>y,e5:()=>v,ll:()=>p,sT:()=>g});var i,o,l=n(7743),s=n(5262),r=n(80347),a=n(19913),c=n(42722),u=n(67488),d=n(21403);function h(t){return function(t,e){const{hasZ:n,spatialReference:o}=t,r=(0,d.l)(o);let a=0;const c=(0,s._H)(r);if(null==c)return null;const u=e===i.Direct?_:g;for(const e of t.paths){if(e.length<2)continue;const t=e.length-1;for(let i=0;i<t;++i){const t=e[i];w[0]=t[0],w[1]=t[1],w[2]=n?t[2]:0;const l=e[i+1];x[0]=l[0],x[1]=l[1],x[2]=n?l[2]:0;const s=u(w,x,o);if(null==s)return null;a+=s.value}}return(0,l.d_)(a,c)}(t,i.Horizontal)}function p(t,e){const{spatialReference:n}=t;return(0,u.aI)(n,e.spatialReference)?(w[0]=t.x,w[1]=t.y,w[2]=t.hasZ?t.z:0,x[0]=e.x,x[1]=e.y,x[2]=e.hasZ?e.z:0,g(w,x,n)):null}function v(t,e){const{spatialReference:n}=t;return(0,u.aI)(n,e.spatialReference)?(w[0]=t.x,w[1]=t.y,w[2]=t.hasZ?t.z:0,x[0]=e.x,x[1]=e.y,x[2]=e.hasZ?e.z:0,y(w,x,n)):null}function f(t){return null!=t?m(t.hasZ?t.z:0,t.spatialReference):null}function m(t,e){const n=(0,s.mq)(e);return null!=n?(0,l.d_)(t??0,n):null}function _(t,e,n){const o=b(t,e,n,i.Direct);return null!=o?(0,l.d_)(o.direct,o.unit):null}function g(t,e,n){const o=b(t,e,n,i.Horizontal);return null!=o?(0,l.d_)(o.horizontal,o.unit):null}function y(t,e,n){const o=b(t,e,n,i.Vertical);return null!=o?(0,l.d_)(o.verticalSigned,o.unit):null}function b(t,e,n,o){const l=(0,d.l)(n),a=(0,s._H)(l);if(null==a)return null;const u=e[2]-t[2];if(o===i.Vertical)return{verticalSigned:u,unit:a};if(!(0,c.F)(t,n,M,l)||!(0,c.F)(e,n,k,l))return null;if(o===i.Direct)return{direct:(0,r.q)(k,M),unit:a};if((0,r.s)(C,t[0],t[1],e[2]),!(0,c.F)(C,n,C,l))return null;const h=(0,r.q)(C,k);return o===i.Horizontal?{horizontal:h,unit:a}:{direct:(0,r.q)(k,M),horizontal:h,vertical:Math.abs(u),unit:a}}(o=i||(i={}))[o.Direct=0]="Direct",o[o.Horizontal=1]="Horizontal",o[o.Vertical=2]="Vertical";const w=(0,a.vt)(),x=(0,a.vt)(),M=(0,a.vt)(),k=(0,a.vt)(),C=(0,a.vt)()},21403:(t,e,n)=>{n.d(e,{l:()=>l});var i=n(34561),o=n(32159);function l(t){const e=(0,o.lO)(t),n=e===o.GD?o.Y0:e;return(0,i.canProjectWithoutEngine)(t,n)?n:t}}}]);