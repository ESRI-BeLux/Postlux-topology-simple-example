"use strict";(self.webpackChunkarcgis_typescript_template=self.webpackChunkarcgis_typescript_template||[]).push([[7934],{63540:(e,t,r)=>{r.d(t,{l:()=>c});var n=r(4506),s=r(25336),o=r(19913),a=r(31262),u=r(99269),i=r(67488);function c(e,t,r,n){if(null==e||null==n)return!1;const o=(0,u.Qk)(e,u.Wv),c=(0,u.Qk)(n,u.zp);if(o===c&&!l(c)&&(o!==u.rz.UNKNOWN||(0,i.aI)(e,n)))return(0,s.kN)(r,t),!0;if(l(c)){const e=u.w5[o][u.rz.LON_LAT],n=u.w5[u.rz.LON_LAT][c];return null!=e&&null!=n&&(e(t,0,p,0),n(p,0,E,0),(0,a.y)(f*p[0],f*p[1],r),r[12]=E[0],r[13]=E[1],r[14]=E[2],!0)}if((c===u.rz.WEB_MERCATOR||c===u.rz.PLATE_CARREE||c===u.rz.WGS84)&&(o===u.rz.WGS84||o===u.rz.CGCS2000&&c===u.rz.PLATE_CARREE||o===u.rz.SPHERICAL_ECEF||o===u.rz.WEB_MERCATOR)){const e=u.w5[o][u.rz.LON_LAT],n=u.w5[u.rz.LON_LAT][c];return null!=e&&null!=n&&(e(t,0,p,0),n(p,0,E,0),o===u.rz.SPHERICAL_ECEF?(0,a.C)(f*p[0],f*p[1],r):(0,s.D_)(r),r[12]=E[0],r[13]=E[1],r[14]=E[2],!0)}return!1}function l(e){return e===u.rz.SPHERICAL_ECEF||e===u.rz.SPHERICAL_MARS_PCPF||e===u.rz.SPHERICAL_MOON_PCPF}const f=(0,n.kU)(1),p=(0,o.vt)(),E=(0,o.vt)()},31262:(e,t,r)=>{r.d(t,{C:()=>o,y:()=>s});var n=r(25336);function s(e,t,r){const n=Math.sin(e),s=Math.cos(e),o=Math.sin(t),a=Math.cos(t),u=r;return u[0]=-n,u[4]=-o*s,u[8]=a*s,u[12]=0,u[1]=s,u[5]=-o*n,u[9]=a*n,u[13]=0,u[2]=0,u[6]=a,u[10]=o,u[14]=0,u[3]=0,u[7]=0,u[11]=0,u[15]=1,u}function o(e,t,r){return s(e,t,r),(0,n.mg)(r,r),r}},32159:(e,t,r)=>{r.d(t,{GD:()=>a,Y0:()=>c,lO:()=>l});var n=r(34670),s=r(44153),o=r(67488);const a=new s.A(n.fv),u=new s.A(n.FY),i=new s.A(n.LJ),c=new s.A(n.Ro);function l(e){const t=f.get(e);if(t)return t;let r=a;if(e)if(e===u)r=u;else if(e===i)r=i;else{const t=e.wkid,n=e.latestWkid;if(null!=t||null!=n)(0,o.tl)(t)||(0,o.tl)(n)?r=u:((0,o.ZL)(t)||(0,o.ZL)(n))&&(r=i);else{const t=e.wkt2??e.wkt;if(t){const e=t.toUpperCase();e===p?r=u:e===E&&(r=i)}}}return f.set(e,r),r}const f=new Map,p=u.wkt.toUpperCase(),E=i.wkt.toUpperCase()},78621:(e,t,r)=>{r.r(t),r.d(t,{assetMapFromAssetMapsJSON:()=>C,extractMesh:()=>h,meshFeatureSetFromJSON:()=>A});var n=r(20857),s=r(80861),o=r(80294),a=r(8e3),u=r(45880),i=r(8977),c=r(44153),l=r(77873),f=r(28936),p=r(52360),E=r(74704);const m=()=>s.A.getLogger("esri.rest.support.meshFeatureSet");function A(e,t,r){const s=r.features;r.features=[],delete r.geometryType;const o=E.A.fromJSON(r);if(o.geometryType="mesh",!r.assetMaps)return o;const a=C(t,r.assetMaps),u=e.sourceSpatialReference??c.A.WGS84,i=r.globalIdFieldName,{outFields:l}=e,f=null!=l&&l.length>0?(p=l.includes("*")?null:new Set(l),({attributes:e})=>{if(!e)return{};if(!p)return e;for(const t in e)p.has(t)||delete e[t];return e}):()=>({});var p;for(const e of s){const r=h(e,i,u,t,a);null!=r&&o.features.push(new n.A({geometry:r,attributes:f(e)}))}return o}function h(e,t,r,n,s){const o=e.attributes[t],c=s.get(o);if(null==c)return m().error("mesh-feature-set:asset-not-found","Service returned a feature which was not found in the asset map",e),null;if(!e.geometry)return m().error("mesh-feature-set:no-geometry","Service returned a feature without geometry",e),null;const p=function({attributes:e},t,{transformFieldRoles:r}){const n=e[r.originX],s=e[r.originY],o=e[r.originZ];return new i.A({x:n,y:s,z:o,spatialReference:t})}(e,r,n),E=a.A.fromJSON(e.geometry);E.spatialReference=r;const A=function(e,{transformFieldRoles:t}){return new l.A({translation:[e[t.translationX],-e[t.translationZ],e[t.translationY]],rotationAxis:[e[t.rotationX],-e[t.rotationZ],e[t.rotationY]],rotationAngle:e[t.rotationDeg],scale:[e[t.scaleX],e[t.scaleZ],e[t.scaleY]]})}(e.attributes,n),h=r.isGeographic?"local":"georeferenced",d=function(e){const t=Array.from(e.files.values()),r=new Array;for(const e of t){if(e.status!==w.COMPLETED)return null;const t=new Array;for(const r of e.parts){if(!r)return null;t.push(new f.Bq(r.url,r.hash))}r.push(new f.Qp(e.name,e.mimeType,t))}return r}(c);return d?u.A.createWithExternalSource(p,d,{extent:E,transform:A,vertexSpace:h}):u.A.createIncomplete(p,{extent:E,transform:A,vertexSpace:h})}var w,d;function C(e,t){const r=new Map;for(const n of t){const t=n.parentGlobalId;if(null==t)continue;const s=n.assetName,a=n.assetType,u=n.assetHash,i=n.assetURL,c=n.conversionStatus,l=n.seqNo,f=(0,p.Fm)(a,e.supportedFormats);if(!f){m().error("mesh-feature-set:unknown-format",`Service returned an asset of type ${a}, but it does not list it as a supported type`);continue}const E=(0,o.tE)(r,t,(()=>({files:new Map})));(0,o.tE)(E.files,s,(()=>({name:s,type:a,mimeType:f,status:L(c),parts:[]}))).parts[l]={hash:u,url:i}}return r}function L(e){switch(e){case"COMPLETED":case"SUBMITTED":return w.COMPLETED;case"INPROGRESS":return w.PENDING;default:return w.FAILED}}(d=w||(w={}))[d.FAILED=0]="FAILED",d[d.PENDING=1]="PENDING",d[d.COMPLETED=2]="COMPLETED"},10941:(e,t,r)=>{r.d(t,{K:()=>n,n:()=>s});class n{constructor(e,t,r=t){this.data=e,this.size=t,this.stride=r}}class s extends n{constructor(e,t,r,n=!1,s=r){super(e,r,s),this.indices=t,this.exclusive=n}}}}]);